{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/malehofmann/Documents/2026/precisar-2026/proyectos-cursor/almamundi_ok/app/page.tsx"],"sourcesContent":["'use client';\n\nimport type { ReactNode } from 'react';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport dynamic from 'next/dynamic';\nimport {\n  X,\n  RotateCcw,\n  Volume2,\n  VolumeX,\n  ChevronDown,\n  Lock,\n  Unlock,\n  Search,\n  Bookmark,\n  Filter,\n  Grid,\n  Check,\n  Upload,\n  Download,\n  Share2,\n  RefreshCcw,\n  Mail,\n  User,\n  MapPin,\n  Globe2,\n  Users,\n  FileText\n} from 'lucide-react';\n\n// --- IMPORTACI√ìN DIN√ÅMICA DEL GLOBO (SSR OFF) ---\nconst GlobeComp = dynamic(() => import('react-globe.gl'), { ssr: false });\n\n/* ------------------------------------------------------------------ */\n/* THEME: NEUM√ìRFICO (SOFT UI)                                         */\n/* ------------------------------------------------------------------ */\nconst APP_FONT = `'Avenir Light', Avenir, sans-serif`;\n\nconst soft = {\n  bg: '#E0E5EC',\n  textMain: '#4A5568',\n  textBody: '#718096',\n  flat: {\n    backgroundColor: '#E0E5EC',\n    boxShadow: '9px 9px 16px rgba(163,177,198,0.6), -9px -9px 16px rgba(255,255,255,0.5)',\n    border: '1px solid rgba(255,255,255,0.3)',\n    borderRadius: '40px'\n  },\n  inset: {\n    backgroundColor: '#E0E5EC',\n    boxShadow: 'inset 6px 6px 10px rgba(163,177,198,0.7), inset -6px -6px 10px rgba(255,255,255,0.8)',\n    border: '1px solid rgba(255,255,255,0.1)',\n    borderRadius: '30px'\n  },\n  button: {\n    backgroundColor: '#E0E5EC',\n    boxShadow: '8px 8px 16px rgba(163,177,198,0.6), -8px -8px 16px rgba(255,255,255,0.8)',\n    border: '1px solid rgba(255,255,255,0.3)',\n    borderRadius: '9999px',\n    cursor: 'pointer',\n    transition: 'transform 0.2s ease, box-shadow 0.2s ease, color 0.2s ease',\n    fontFamily: APP_FONT\n  }\n} as const;\n\nconst globalStyles = `\n  html { scroll-behavior: smooth; }\n\n  @keyframes float {\n    0% { transform: translateY(0px); }\n    50% { transform: translateY(-10px); }\n    100% { transform: translateY(0px); }\n  }\n  .animate-float { animation: float 6s ease-in-out infinite; }\n\n  @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n  .animate-spin-slow { animation: spin 8s linear infinite; }\n\n  .hide-scrollbar::-webkit-scrollbar { display: none; }\n  .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }\n\n  .engraved-text {\n    color: #E0E5EC;\n    text-shadow: 2px 2px 5px rgba(163,177,198,0.7), -2px -2px 5px rgba(255,255,255,0.8);\n  }\n\n  /* ALMAMUNDI footer (relieve neum√≥rfico como tu imagen) */\n  .almamundi-footer-title{\n    color: #E0E5EC;\n    font-family: \"Avenir Next\", Avenir, system-ui, -apple-system, sans-serif;\n    font-weight: 900;\n    letter-spacing: -0.06em;\n    -webkit-text-stroke: 1px rgba(163,177,198,0.60);\n    text-shadow:\n      -14px -14px 28px rgba(255,255,255,0.95),\n       14px  14px 28px rgba(163,177,198,0.90),\n       -3px  -3px  6px rgba(255,255,255,0.85),\n        3px   3px  6px rgba(163,177,198,0.75);\n  }\n`;\n\n/* ------------------------------------------------------------------ */\n/* TYPES                                                               */\n/* ------------------------------------------------------------------ */\ntype Mode = 'Video' | 'Audio' | 'Texto';\n\ntype StoryPoint = {\n  lat: number;\n  lng: number;\n  label: string;\n};\n\ntype NewsRing = {\n  lat: number;\n  lng: number;\n  maxR: number;\n  propagationSpeed: number;\n  repeatPeriod: number;\n};\n\ntype AgeRange = '13-17' | '18-24' | '25-34' | '35-44' | '45-54' | '55-64' | '65+' | 'Prefiero no decir';\ntype Sex = 'Mujer' | 'Hombre' | 'No binario' | 'Otro' | 'Prefiero no decir';\n\ntype InspirationTopic = {\n  title: string;\n  questions: string[];\n};\n\nconst INSPIRATION_TOPICS: InspirationTopic[] = [\n  {\n    title: 'Un momento que me cambi√≥',\n    questions: ['¬øQu√© pas√≥ exactamente?', '¬øQu√© sentiste en el cuerpo en ese momento?', '¬øQu√© cambi√≥ en ti despu√©s?', '¬øQu√© aprendiste que antes no ve√≠as?']\n  },\n  {\n    title: 'Una decisi√≥n dif√≠cil',\n    questions: ['¬øQu√© opciones ten√≠as?', '¬øQu√© era lo que m√°s te daba miedo perder?', '¬øQu√© te ayud√≥ a decidir?', 'Si pudieras volver atr√°s, ¬øhar√≠as algo distinto?']\n  },\n  {\n    title: 'Un comienzo',\n    questions: ['¬øC√≥mo empez√≥ esta historia?', '¬øQu√© detalle peque√±o te qued√≥ grabado?', '¬øQu√© esperabas que pasara?', '¬øQu√© pas√≥ en realidad?']\n  },\n  {\n    title: 'Un final',\n    questions: ['¬øQu√© termin√≥ (una etapa, una relaci√≥n, un lugar)?', '¬øC√≥mo te diste cuenta de que era el final?', '¬øQu√© se fue contigo y qu√© qued√≥?', '¬øQu√© te gustar√≠a que otros entiendan de este cierre?']\n  },\n  {\n    title: 'Un lugar que guardo adentro',\n    questions: ['¬øD√≥nde es? (ciudad, barrio, casa, paisaje)', '¬øQu√© tiene ese lugar que no se repite?', '¬øQu√© pas√≥ ah√≠ que todav√≠a te acompa√±a?', '¬øQu√© oler√≠as/escuchar√≠as si estuvieras ah√≠ ahora?']\n  },\n  {\n    title: 'Una persona que me marc√≥',\n    questions: ['¬øQui√©n era para ti?', '¬øQu√© hac√≠a o dec√≠a que no olvidas?', '¬øQu√© parte de ti apareci√≥ gracias a esa persona?', '¬øQu√© le dir√≠as hoy si la tuvieras al frente?']\n  },\n  {\n    title: 'Una p√©rdida',\n    questions: ['¬øQu√© perdiste y qu√© significaba?', '¬øC√≥mo cambi√≥ tu vida desde entonces?', '¬øQu√© te sostuvo en lo peor?', '¬øQu√© te gustar√≠a que otros no olviden de esto?']\n  },\n  {\n    title: 'Un duelo (sin apuro)',\n    questions: ['¬øC√≥mo se ve el duelo en tu d√≠a a d√≠a?', '¬øQu√© cosas peque√±as te lo recuerdan?', '¬øQu√© te ayuda aunque sea un 1%?', '¬øQu√© te gustar√≠a pedirle al mundo en este momento?']\n  },\n  {\n    title: 'Un logro (grande o peque√±o)',\n    questions: ['¬øQu√© lograste exactamente?', '¬øQu√© costo tuvo por dentro?', '¬øQui√©n te acompa√±√≥ (o qui√©n falt√≥)?', '¬øQu√© te demuestra este logro sobre ti?']\n  },\n  {\n    title: 'Un miedo',\n    questions: ['¬øA qu√© le tienes miedo de verdad?', '¬øCu√°ndo apareci√≥ por primera vez?', '¬øQu√© haces para seguir igual aunque est√© ah√≠?', '¬øQu√© te gustar√≠a que pase para sentir m√°s calma?']\n  },\n  {\n    title: 'Mi relaci√≥n con la tecnolog√≠a',\n    questions: ['¬øQu√© lugar ocupa la tecnolog√≠a en tu vida?', '¬øQu√© te conecta y qu√© te satura?', '¬øQu√© l√≠mites te gustar√≠a poner?', '¬øQu√© te gustar√≠a recuperar (tiempo, calma, atenci√≥n)?']\n  },\n  {\n    title: 'Un futuro que imagino',\n    questions: ['¬øQu√© futuro imaginas (realista, deseado, posible)?', '¬øQu√© te gustar√≠a que no se repita del pasado?', '¬øQu√© quieres que s√≠ exista?', '¬øQu√© primer paso peque√±o te acercar√≠a a eso?']\n  }\n];\n\n/* ------------------------------------------------------------------ */\n/* HOOKS                                                               */\n/* ------------------------------------------------------------------ */\nfunction useModalUX(isOpen: boolean, onClose: () => void) {\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const prevOverflow = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n\n    const onKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose();\n    };\n\n    window.addEventListener('keydown', onKeyDown);\n    return () => {\n      document.body.style.overflow = prevOverflow;\n      window.removeEventListener('keydown', onKeyDown);\n    };\n  }, [isOpen, onClose]);\n}\n\nfunction useElementWidth<T extends HTMLElement>() {\n  const ref = useRef<T | null>(null);\n  const [width, setWidth] = useState<number>(900);\n\n  useEffect(() => {\n    const el = ref.current;\n    if (!el) return;\n\n    const ro = new ResizeObserver((entries) => {\n      const w = entries[0]?.contentRect?.width ?? 900;\n      setWidth(w);\n    });\n\n    ro.observe(el);\n    setWidth(el.clientWidth || 900);\n\n    return () => ro.disconnect();\n  }, []);\n\n  return { ref, width };\n}\n\n/* ------------------------------------------------------------------ */\n/* UTILS                                                               */\n/* ------------------------------------------------------------------ */\nfunction clamp(n: number, a: number, b: number) {\n  return Math.max(a, Math.min(b, n));\n}\n\nfunction makeId(prefix = 'AM') {\n  const s = Math.random().toString(16).slice(2, 10).toUpperCase();\n  return `${prefix}-${s}`;\n}\n\nfunction hashString(str: string) {\n  let h = 2166136261;\n  for (let i = 0; i < str.length; i++) {\n    h ^= str.charCodeAt(i);\n    h = Math.imul(h, 16777619);\n  }\n  return (h >>> 0) || 1;\n}\n\nfunction hslFromHash(h: number, offset = 0) {\n  const hue = (h + offset) % 360;\n  return `hsl(${hue} 85% 55%)`;\n}\n\nfunction sleep(ms: number) {\n  return new Promise<void>((r) => setTimeout(r, ms));\n}\n\nfunction formatSeconds(s: number) {\n  const mm = String(Math.floor(s / 60)).padStart(2, '0');\n  const ss = String(s % 60).padStart(2, '0');\n  return { mm, ss };\n}\n\nfunction isEmailLike(v: string) {\n  // simple, suficiente para UI (la validaci√≥n real va server-side)\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(v.trim());\n}\n\nfunction pickMimeType(preferred: string[]) {\n  // @ts-ignore\n  const MR = typeof window !== 'undefined' ? window.MediaRecorder : undefined;\n  if (!MR?.isTypeSupported) return '';\n  for (const t of preferred) {\n    try {\n      // @ts-ignore\n      if (MR.isTypeSupported(t)) return t;\n    } catch {}\n  }\n  return '';\n}\n\nasync function blobToAmplitudeSamples(blob: Blob, target = 160) {\n  try {\n    const arr = await blob.arrayBuffer();\n    // @ts-ignore\n    const AudioCtx = window.AudioContext || (window as any).webkitAudioContext;\n    if (!AudioCtx) return Array.from({ length: target }, () => 0.2);\n\n    const ctx = new AudioCtx();\n    const audio = await ctx.decodeAudioData(arr.slice(0));\n    const data = audio.getChannelData(0);\n    const step = Math.floor(data.length / target) || 1;\n\n    const out: number[] = [];\n    for (let i = 0; i < target; i++) {\n      const start = i * step;\n      let sum = 0;\n      let count = 0;\n      for (let j = 0; j < step && start + j < data.length; j++) {\n        sum += Math.abs(data[start + j]);\n        count++;\n      }\n      out.push(clamp(sum / Math.max(1, count), 0, 1));\n    }\n\n    ctx.close?.().catch?.(() => {});\n    return out;\n  } catch {\n    return Array.from({ length: target }, () => 0.2);\n  }\n}\n\n/* ------------------------------------------------------------------ */\n/* IMPRENTA VISUALIZER                                                 */\n/* ------------------------------------------------------------------ */\nfunction ImprontaVisualizer({\n  isActive,\n  seedText,\n  audioBlob,\n  canvasId\n}: {\n  isActive: boolean;\n  seedText: string;\n  audioBlob: Blob | null;\n  canvasId?: string;\n}) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [amps, setAmps] = useState<number[] | null>(null);\n\n  useEffect(() => {\n    let alive = true;\n    if (!audioBlob) {\n      setAmps(null);\n      return;\n    }\n    blobToAmplitudeSamples(audioBlob).then((a) => {\n      if (alive) setAmps(a);\n    });\n    return () => {\n      alive = false;\n    };\n  }, [audioBlob]);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    let raf = 0;\n    let t = 0;\n\n    const h = hashString(seedText || 'almamundi');\n    const c1 = hslFromHash(h, 10);\n    const c2 = hslFromHash(h, 120);\n    const c3 = hslFromHash(h, 220);\n\n    const draw = () => {\n      const w = canvas.width;\n      const hh = canvas.height;\n\n      ctx.clearRect(0, 0, w, hh);\n      if (!isActive) return;\n\n      ctx.fillStyle = soft.bg;\n      ctx.fillRect(0, 0, w, hh);\n\n      t += 0.03;\n\n      const grad = ctx.createRadialGradient(w * 0.5, hh * 0.45, 20, w * 0.5, hh * 0.45, Math.max(w, hh));\n      grad.addColorStop(0, 'rgba(249,115,22,0.15)');\n      grad.addColorStop(1, 'rgba(249,115,22,0)');\n      ctx.fillStyle = grad;\n      ctx.fillRect(0, 0, w, hh);\n\n      ctx.beginPath();\n      ctx.moveTo(0, hh / 2);\n      for (let x = 0; x < w; x++) {\n        const base = Math.sin(x * 0.018 + t) * 18;\n        const mod = Math.cos(x * 0.04 - t * 1.2) * 9;\n        const y = hh / 2 + base + mod + Math.sin(t * 0.6) * 3;\n        ctx.lineTo(x, y);\n      }\n      ctx.strokeStyle = c1;\n      ctx.lineWidth = 3;\n      ctx.stroke();\n\n      ctx.beginPath();\n      ctx.moveTo(0, hh / 2);\n      for (let x = 0; x < w; x++) {\n        const y = hh / 2 + Math.sin(x * 0.03 - t * 1.8) * 12;\n        ctx.lineTo(x, y);\n      }\n      ctx.strokeStyle = 'rgba(249, 115, 22, 0.30)';\n      ctx.lineWidth = 2;\n      ctx.stroke();\n\n      const dots = 18;\n      for (let i = 0; i < dots; i++) {\n        const px = ((h % 997) / 997) * w;\n        const phase = (i * 0.7 + (h % 100) / 50) * 2;\n        const x = (px + i * 19 + Math.sin(t + phase) * 16) % w;\n        const y = hh * 0.25 + ((i * 37 + h) % 120) + Math.cos(t * 1.2 + i) * 10;\n        ctx.beginPath();\n        ctx.arc(x, y, 2.2, 0, Math.PI * 2);\n        ctx.fillStyle = i % 3 === 0 ? c2 : i % 3 === 1 ? c3 : 'rgba(249,115,22,0.65)';\n        ctx.fill();\n      }\n\n      if (amps && amps.length) {\n        const mid = hh * 0.78;\n        const maxH = 34;\n        ctx.beginPath();\n        for (let i = 0; i < amps.length; i++) {\n          const x = (i / (amps.length - 1)) * w;\n          const a = amps[i] ?? 0.2;\n          const y = mid - a * maxH;\n          ctx.lineTo(x, y);\n        }\n        ctx.strokeStyle = 'rgba(74,85,104,0.35)';\n        ctx.lineWidth = 2;\n        ctx.stroke();\n      }\n\n      raf = requestAnimationFrame(draw);\n    };\n\n    draw();\n    return () => cancelAnimationFrame(raf);\n  }, [isActive, seedText, amps]);\n\n  return <canvas id={canvasId} ref={canvasRef} width={520} height={260} className=\"w-full h-full object-cover opacity-90\" />;\n}\n\n/* =========================    MAP TOOLBAR (C√ÅPSULA)    ========================= */\nfunction MapFilterBar({ onToggleView }: { onToggleView: () => void }) {\n  const [q, setQ] = useState('');\n  return (\n    <div\n      className=\"absolute left-0 w-full z-[80] flex justify-center px-4 pointer-events-none\"\n      style={{ top: 'calc(50% - 520px)' }}\n    >\n      <div\n        className=\"pointer-events-auto flex items-center gap-4 p-3 rounded-full animate-float\"\n        style={{\n          backgroundColor: 'rgba(224, 229, 236, 0.82)',\n          backdropFilter: 'blur(12px)',\n          boxShadow: soft.flat.boxShadow,\n          border: '1px solid rgba(255,255,255,0.35)',\n          fontFamily: APP_FONT\n        }}\n      >\n        <div className=\"relative group\">\n          <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400 group-focus-within:text-orange-500 transition-colors\">\n            <Search size={18} />\n          </div>\n          <input\n            value={q}\n            onChange={(e) => setQ(e.target.value)}\n            type=\"text\"\n            placeholder=\"Buscar ciudad‚Ä¶\"\n            className=\"pl-12 pr-6 py-3 rounded-full w-44 md:w-56 focus:w-80 transition-all duration-300 outline-none text-sm font-bold text-gray-600 placeholder-gray-400\"\n            style={{ backgroundColor: soft.bg, boxShadow: soft.inset.boxShadow, fontFamily: APP_FONT }}\n          />\n        </div>\n\n        <div className=\"h-8 w-px bg-gray-300/70 mx-1 hidden md:block\" />\n\n        <button\n          type=\"button\"\n          className=\"hidden md:flex items-center gap-2 px-5 py-3 rounded-full text-gray-600 hover:text-orange-600 transition-colors active:scale-95\"\n          style={soft.button}\n        >\n          <Filter size={18} />\n          <span className=\"text-sm font-bold\">Temas</span>\n        </button>\n\n        <button\n          type=\"button\"\n          onClick={onToggleView}\n          className=\"flex items-center gap-2 px-5 py-3 rounded-full text-gray-600 hover:text-orange-600 transition-colors active:scale-95\"\n          style={soft.button}\n        >\n          <Grid size={18} />\n          <span className=\"text-sm font-bold hidden md:inline\">Explorar</span>\n        </button>\n\n        <div className=\"h-8 w-px bg-gray-300/70 mx-1\" />\n\n        <button\n          type=\"button\"\n          className=\"w-12 h-12 flex items-center justify-center rounded-full text-orange-500 hover:text-orange-600 transition-colors active:scale-95 relative\"\n          style={soft.button}\n          aria-label=\"Mis colecciones\"\n        >\n          <Bookmark size={20} className=\"fill-current opacity-50\" />\n          <span className=\"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full border-2 border-[#E0E5EC]\" />\n        </button>\n      </div>\n    </div>\n  );\n}\n\n/* =========================    MAP LEGEND (CUADRO DER)    ========================= */\nfunction MapLegend() {\n  return (\n    <div className=\"absolute top-32 right-6 z-[80] pointer-events-none hidden lg:block\">\n      <div\n        className=\"bg-white/10 backdrop-blur-md border border-white/20 p-6 rounded-[26px] shadow-lg max-w-xs animate-float\"\n        style={{ fontFamily: APP_FONT }}\n      >\n        <div className=\"flex items-center gap-3 mb-3\">\n          <div className=\"w-3 h-3 rounded-full bg-orange-500 shadow-[0_0_10px_rgba(249,115,22,0.6)]\" />\n          <span className=\"text-xs font-bold text-gray-200 tracking-wide uppercase\">Historias (Memoria)</span>\n        </div>\n\n        <div className=\"flex items-center gap-3 mb-4\">\n          <div className=\"w-3 h-3 rounded-full border-2 border-white shadow-[0_0_10px_rgba(255,255,255,0.35)]\" />\n          <span className=\"text-xs font-bold text-white tracking-wide uppercase\">Pulsos (Actualidad)</span>\n        </div>\n\n        <div className=\"h-px w-full bg-white/10 mb-3\" />\n\n        <p className=\"text-[11px] text-gray-300 leading-relaxed font-light italic\">\n          ‚ÄúDos capas, un mismo mundo: lo vivido y lo que est√° pasando.‚Äù\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction SoftCard({\n  title,\n  subtitle,\n  children,\n  buttonLabel,\n  onClick,\n  delay\n}: {\n  title: string;\n  subtitle: string;\n  children: ReactNode;\n  buttonLabel: string;\n  onClick: () => void;\n  delay: string;\n}) {\n  return (\n    <div\n      className=\"relative p-8 rounded-[40px] flex flex-col items-start transition-all duration-500 hover:-translate-y-2 group animate-float w-full md:w-[380px] min-h-[520px]\"\n      style={{ ...soft.flat, animationDelay: delay, fontFamily: APP_FONT }}\n    >\n      <div className=\"mb-6\">\n        <h3 className=\"text-xl font-light text-gray-500\">{title}</h3>\n        <h2 className=\"text-3xl font-bold text-gray-700 leading-none\">{subtitle}</h2>\n      </div>\n\n      <div className=\"flex-1\" />\n\n      <div className=\"w-full\">\n        <p className=\"text-gray-500 leading-relaxed text-base md:text-lg mb-6\">{children}</p>\n\n        <button\n          onClick={onClick}\n          className=\"w-full flex justify-center px-10 py-4 rounded-full text-xs font-black tracking-widest text-orange-500 uppercase transition-all active:scale-95 group-hover:text-orange-600\"\n          style={soft.button}\n          type=\"button\"\n        >\n          {buttonLabel}\n        </button>\n      </div>\n    </div>\n  );\n}\n\n/* ------------------------------------------------------------------ */\n/* MODALS                                                              */\n/* ------------------------------------------------------------------ */\nfunction PurposeModal({ isOpen, onClose }: { isOpen: boolean; onClose: () => void }) {\n  useModalUX(isOpen, onClose);\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/55 backdrop-blur-md\">\n      <div className=\"bg-[#E0E5EC] w-full max-w-lg p-10 rounded-[40px] relative shadow-2xl animate-float\" style={{ fontFamily: APP_FONT }}>\n        <button\n          onClick={onClose}\n          className=\"absolute top-6 right-6 p-2 rounded-full text-gray-500 hover:text-orange-600 transition-colors active:scale-95\"\n          style={soft.button}\n          aria-label=\"Cerrar\"\n          type=\"button\"\n        >\n          <X size={24} />\n        </button>\n\n        <h2 className=\"text-3xl font-bold mb-6 text-gray-700\">Nuestro Prop√≥sito</h2>\n\n        <p className=\"text-gray-600 leading-relaxed mb-6\">\n          AlmaMundi no es una red social. Es un <strong>archivo vivo</strong>. Un lugar donde lo vivido queda, y puede volver a aparecer en otras vidas.\n        </p>\n\n        <div className=\"p-6 rounded-3xl mb-2\" style={soft.inset}>\n          <p className=\"italic text-gray-500\">‚ÄúLo que se cuenta, no se pierde.‚Äù</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction InspirationModal({\n  isOpen,\n  onClose,\n  topics,\n  onChoose\n}: {\n  isOpen: boolean;\n  onClose: () => void;\n  topics: InspirationTopic[];\n  onChoose: (t: InspirationTopic) => void;\n}) {\n  useModalUX(isOpen, onClose);\n  const [q, setQ] = useState('');\n\n  useEffect(() => {\n    if (!isOpen) return;\n    setQ('');\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  const filtered = topics.filter((t) => {\n    const s = `${t.title} ${t.questions.join(' ')}`.toLowerCase();\n    return s.includes(q.trim().toLowerCase());\n  });\n\n  return (\n    <div className=\"fixed inset-0 z-[210] flex items-center justify-center p-4 bg-slate-900/55 backdrop-blur-md\">\n      <div className=\"bg-[#E0E5EC] w-full max-w-3xl p-8 md:p-10 rounded-[40px] relative shadow-2xl\" style={{ fontFamily: APP_FONT }}>\n        <button\n          onClick={onClose}\n          className=\"absolute top-6 right-6 p-2 rounded-full text-gray-500 hover:text-orange-600 transition-colors active:scale-95\"\n          style={soft.button}\n          aria-label=\"Cerrar\"\n          type=\"button\"\n        >\n          <X size={22} />\n        </button>\n\n        <div className=\"mb-6\">\n          <div className=\"text-xs font-black tracking-widest uppercase text-gray-500 mb-2\">Inspiraci√≥n</div>\n          <h2 className=\"text-3xl font-bold text-gray-700\">Elige un disparador</h2>\n          <p className=\"text-gray-600 mt-2\">Selecciona un tema y te prellenamos preguntas gu√≠a (solo si escribes).</p>\n        </div>\n\n        <div className=\"mb-6\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400\">\n              <Search size={18} />\n            </div>\n            <input\n              value={q}\n              onChange={(e) => setQ(e.target.value)}\n              placeholder=\"Buscar tema‚Ä¶\"\n              className=\"w-full pl-12 pr-5 py-4 rounded-[18px] outline-none text-gray-700\"\n              style={{ ...soft.flat, borderRadius: '18px' }}\n            />\n          </div>\n        </div>\n\n        <div className=\"max-h-[52vh] overflow-y-auto hide-scrollbar pr-1\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {filtered.map((t) => (\n              <button\n                key={t.title}\n                type=\"button\"\n                onClick={() => onChoose(t)}\n                className=\"text-left p-5 rounded-[22px] active:scale-[0.99] transition-transform\"\n                style={{ ...soft.inset, borderRadius: '22px' }}\n              >\n                <div className=\"text-lg font-black text-gray-700\">{t.title}</div>\n                <div className=\"mt-3 text-sm text-gray-600 space-y-1\">\n                  {t.questions.slice(0, 3).map((q2, i) => (\n                    <div key={i}>‚Ä¢ {q2}</div>\n                  ))}\n                </div>\n                <div className=\"mt-4 text-xs font-black tracking-widest uppercase text-orange-600\">Elegir</div>\n              </button>\n            ))}\n          </div>\n\n          {!filtered.length && <div className=\"text-gray-500 text-sm py-6 text-center\">No encontramos resultados.</div>}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction StoryModal({\n  isOpen,\n  mode,\n  onClose,\n  onChooseMode,\n  chosenTopic,\n  onClearChosenTopic\n}: {\n  isOpen: boolean;\n  mode: Mode;\n  onClose: () => void;\n  onChooseMode: (m: Mode) => void; // (lo dejamos para que no cambie tu API, aunque no lo mostramos dentro del modal)\n  chosenTopic: InspirationTopic | null;\n  onClearChosenTopic: () => void;\n}) {\n  useModalUX(isOpen, onClose);\n\n  const PRIVACY_URL = '/privacidad';\n  const HOME_URL = 'https://almamundi.org';\n  const seedForImpronta = 'almamundi-seed-';\n\n  const [step, setStep] = useState<'capture' | 'details' | 'received'>('capture');\n\n  const [storyTitle, setStoryTitle] = useState('');\n  const [name, setName] = useState('');\n  const [wantsEmail, setWantsEmail] = useState(false);\n  const [email, setEmail] = useState('');\n\n  const [ageRange, setAgeRange] = useState<AgeRange | ''>('');\n  const [sex, setSex] = useState<Sex | ''>('');\n  const [city, setCity] = useState('');\n  const [country, setCountry] = useState('');\n\n  const [acceptedPrivacy, setAcceptedPrivacy] = useState(false);\n\n  const [text, setText] = useState('');\n  const [attachments, setAttachments] = useState<File[]>([]);\n\n  const [mediaBlob, setMediaBlob] = useState<Blob | null>(null);\n  const [mediaUrl, setMediaUrl] = useState<string>('');\n  const [isRecording, setIsRecording] = useState(false);\n  const [secondsLeft, setSecondsLeft] = useState(300);\n  const [err, setErr] = useState<string>('');\n  const [saving, setSaving] = useState(false);\n\n  const recorderRef = useRef<MediaRecorder | null>(null);\n  const streamRef = useRef<MediaStream | null>(null);\n  const previewVideoRef = useRef<HTMLVideoElement | null>(null);\n  const chunksRef = useRef<BlobPart[]>([]);\n  const imprintIdRef = useRef<string>('');\n\n  const MAX_TEXT = 6000;\n  const isTextTooLong = text.length > MAX_TEXT;\n\n  const revokeMediaUrl = useCallback(() => {\n    if (!mediaUrl) return;\n    try {\n      URL.revokeObjectURL(mediaUrl);\n    } catch {}\n  }, [mediaUrl]);\n\n  const cleanupStream = useCallback(() => {\n    try {\n      streamRef.current?.getTracks()?.forEach((t) => t.stop());\n    } catch {}\n    streamRef.current = null;\n\n    if (previewVideoRef.current) {\n      try {\n        // @ts-ignore\n        previewVideoRef.current.srcObject = null;\n      } catch {}\n    }\n  }, []);\n\n  const stopRecording = useCallback(() => {\n    setIsRecording(false);\n    try {\n      recorderRef.current?.stop();\n    } catch {}\n  }, []);\n\n  const hardResetCapture = useCallback(() => {\n    setErr('');\n    setSecondsLeft(300);\n    setIsRecording(false);\n    chunksRef.current = [];\n    recorderRef.current = null;\n\n    cleanupStream();\n\n    setMediaBlob(null);\n    revokeMediaUrl();\n    setMediaUrl('');\n  }, [cleanupStream, revokeMediaUrl]);\n\n  // Reset modal when opens (or mode changes while open)\n  useEffect(() => {\n    if (!isOpen) return;\n\n    setStep('capture');\n    setStoryTitle('');\n    setName('');\n    setWantsEmail(false);\n    setEmail('');\n    setAgeRange('');\n    setSex('');\n    setCity('');\n    setCountry('');\n    setAcceptedPrivacy(false);\n    setText('');\n    setAttachments([]);\n    imprintIdRef.current = '';\n\n    hardResetCapture();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, mode]);\n\n  // Stop everything when modal closes\n  useEffect(() => {\n    if (isOpen) return;\n    hardResetCapture();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n\n  // Prefill from inspiration (only in Texto)\n  useEffect(() => {\n    if (!isOpen) return;\n    if (mode !== 'Texto') return;\n    if (!chosenTopic) return;\n\n    setStoryTitle((prev) => (prev.trim().length ? prev : chosenTopic.title));\n    const guide = chosenTopic.questions.map((q) => `‚Ä¢ ${q}`).join('\\n');\n    setText((prev) => (prev.trim().length ? prev : `${guide}\\n\\n`));\n  }, [isOpen, mode, chosenTopic]);\n\n  // Recording countdown\n  useEffect(() => {\n    if (!isRecording) return;\n    const id = window.setInterval(() => {\n      setSecondsLeft((prev) => {\n        if (prev <= 1) {\n          window.clearInterval(id);\n          stopRecording();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n    return () => window.clearInterval(id);\n  }, [isRecording, stopRecording]);\n\n  const startRecording = useCallback(async () => {\n    setErr('');\n\n    if (typeof navigator === 'undefined' || !navigator.mediaDevices?.getUserMedia) {\n      setErr('Este navegador no permite grabar. Prueba en Chrome o Safari actualizado.');\n      return;\n    }\n\n    // clear previous\n    setMediaBlob(null);\n    revokeMediaUrl();\n    setMediaUrl('');\n    chunksRef.current = [];\n\n    try {\n      const constraints: MediaStreamConstraints =\n        mode === 'Audio'\n          ? { audio: true }\n          : {\n              audio: true,\n              video: {\n                facingMode: 'user',\n                width: { ideal: 1280 },\n                height: { ideal: 720 }\n              }\n            };\n\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      streamRef.current = stream;\n\n      if (mode === 'Video' && previewVideoRef.current) {\n        // @ts-ignore\n        previewVideoRef.current.srcObject = stream;\n        previewVideoRef.current.muted = true;\n        previewVideoRef.current.play?.().catch?.(() => {});\n      }\n\n      const mimeType =\n        mode === 'Audio'\n          ? pickMimeType(['audio/webm;codecs=opus', 'audio/webm', 'audio/mp4'])\n          : pickMimeType(['video/webm;codecs=vp8,opus', 'video/webm', 'video/mp4']);\n\n      const rec = new MediaRecorder(stream, mimeType ? { mimeType } : undefined);\n      recorderRef.current = rec;\n\n      rec.ondataavailable = (e) => {\n        if (e.data && e.data.size > 0) chunksRef.current.push(e.data);\n      };\n\n      rec.onstop = () => {\n        try {\n          const type = rec.mimeType || (mode === 'Audio' ? 'audio/webm' : 'video/webm');\n          const blob = new Blob(chunksRef.current, { type });\n          setMediaBlob(blob);\n\n          const url = URL.createObjectURL(blob);\n          setMediaUrl(url);\n        } catch {\n          setErr('No pudimos procesar la grabaci√≥n.');\n        } finally {\n          cleanupStream();\n        }\n      };\n\n      setSecondsLeft(300);\n      setIsRecording(true);\n      rec.start(250);\n    } catch (e: any) {\n      cleanupStream();\n      setIsRecording(false);\n\n      const msg = String(e?.message || '');\n      if (msg.toLowerCase().includes('permission') || msg.toLowerCase().includes('denied')) {\n        setErr('No diste permisos de micr√≥fono/c√°mara. Act√≠valos y vuelve a intentar.');\n      } else {\n        setErr('No pudimos iniciar la grabaci√≥n. Revisa permisos o prueba otro navegador.');\n      }\n    }\n  }, [mode, cleanupStream, revokeMediaUrl]);\n\n  const addFiles = useCallback((list: FileList | null) => {\n    if (!list) return;\n    const incoming = Array.from(list);\n    setAttachments((prev) => [...prev, ...incoming].slice(0, 10));\n  }, []);\n\n  const removeFile = useCallback((idx: number) => {\n    setAttachments((prev) => prev.filter((_, i) => i !== idx));\n  }, []);\n\n  const canContinueFromCapture = useMemo(() => {\n    if (mode === 'Texto') return text.trim().length >= 30 && !isTextTooLong;\n    return !!mediaBlob && !isRecording;\n  }, [mode, text, isTextTooLong, mediaBlob, isRecording]);\n\n  const canSubmit = useMemo(() => {\n    const baseOk = !!sex && !!ageRange && city.trim().length > 1 && country.trim().length > 1 && acceptedPrivacy;\n    const emailOk = !wantsEmail || isEmailLike(email);\n    return baseOk && emailOk && !saving;\n  }, [sex, ageRange, city, country, acceptedPrivacy, wantsEmail, email, saving]);\n\n  const copyHomeLink = useCallback(async () => {\n    try {\n      if (!navigator?.clipboard?.writeText) throw new Error('no-clipboard');\n      await navigator.clipboard.writeText(HOME_URL);\n      setErr('Link copiado üíõ');\n      window.setTimeout(() => setErr(''), 1800);\n    } catch {\n      setErr('No se pudo copiar el link en este navegador.');\n      window.setTimeout(() => setErr(''), 1800);\n    }\n  }, []);\n\n  const openShare = useCallback(\n    (network: 'whatsapp' | 'linkedin' | 'x' | 'facebook' | 'copy' | 'instagram' | 'tiktok' | 'threads' | 'bluesky') => {\n      const id = imprintIdRef.current || makeId('AM');\n      const shareText = `Mi Impronta en AlmaMundi (${id}).`;\n      const url = HOME_URL;\n\n      const encodedText = encodeURIComponent(shareText);\n      const encodedUrl = encodeURIComponent(url);\n\n      const open = (u: string) => window.open(u, '_blank', 'noopener,noreferrer');\n\n      if (network === 'copy') {\n        copyHomeLink();\n        return;\n      }\n\n      if (network === 'whatsapp') {\n        open(`https://wa.me/?text=${encodeURIComponent(`${shareText} ${url}`)}`);\n        return;\n      }\n\n      if (network === 'linkedin') {\n        open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodedUrl}`);\n        return;\n      }\n\n      if (network === 'facebook') {\n        open(`https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`);\n        return;\n      }\n\n      if (network === 'x') {\n        open(`https://twitter.com/intent/tweet?text=${encodedText}&url=${encodedUrl}`);\n        return;\n      }\n\n      copyHomeLink();\n      setErr(\n        `Link copiado. P√©galo en ${\n          network === 'instagram' ? 'Instagram' : network === 'tiktok' ? 'TikTok' : network === 'threads' ? 'Threads' : 'Bluesky'\n        } ‚ú®`\n      );\n      window.setTimeout(() => setErr(''), 2200);\n    },\n    [copyHomeLink]\n  );\n\n  const downloadImpronta = useCallback(() => {\n    const canvas = document.getElementById('impronta-canvas') as HTMLCanvasElement | null;\n    if (!canvas) {\n      setErr('No encontramos la impronta para descargar.');\n      window.setTimeout(() => setErr(''), 1800);\n      return;\n    }\n\n    try {\n      const png = canvas.toDataURL('image/png');\n      const a = document.createElement('a');\n      const id = imprintIdRef.current || 'AM';\n      a.href = png;\n      a.download = `AlmaMundi-Impronta-${id}.png`;\n      a.click();\n    } catch {\n      setErr('No se pudo descargar en este navegador.');\n      window.setTimeout(() => setErr(''), 1800);\n    }\n  }, []);\n\n  const submit = useCallback(async () => {\n    setErr('');\n\n    if (!canSubmit) {\n      setErr('Te falta completar datos obligatorios o aceptar la pol√≠tica de privacidad.');\n      window.setTimeout(() => setErr(''), 2200);\n      return;\n    }\n\n    if (mode === 'Texto' && text.trim().length < 30) {\n      setErr('Escribe un poquito m√°s (m√≠nimo unas l√≠neas).');\n      window.setTimeout(() => setErr(''), 2200);\n      return;\n    }\n    if (mode !== 'Texto' && !mediaBlob) {\n      setErr('Primero graba tu audio/video.');\n      window.setTimeout(() => setErr(''), 2200);\n      return;\n    }\n\n    setSaving(true);\n\n    try {\n      await sleep(900);\n\n      const id = imprintIdRef.current || makeId('AM');\n      imprintIdRef.current = id;\n\n      setStep('received');\n    } catch {\n      setErr('No pudimos enviar. Intenta de nuevo.');\n    } finally {\n      setSaving(false);\n    }\n  }, [canSubmit, mode, text, mediaBlob]);\n\n  const resetForNewStory = useCallback(() => {\n    setErr('');\n    setStep('capture');\n    imprintIdRef.current = '';\n    setStoryTitle('');\n    setText('');\n    setAttachments([]);\n    setAcceptedPrivacy(false);\n    setWantsEmail(false);\n    setEmail('');\n    setName('');\n    setAgeRange('');\n    setSex('');\n    setCity('');\n    setCountry('');\n    hardResetCapture();\n    onClearChosenTopic();\n  }, [hardResetCapture, onClearChosenTopic]);\n\n  if (!isOpen) return null;\n\n  const { mm, ss } = formatSeconds(secondsLeft);\n\n  return (\n    <div className=\"fixed inset-0 z-[220] flex items-center justify-center p-4 bg-slate-900/55 backdrop-blur-md\">\n      <div className=\"bg-[#E0E5EC] w-full max-w-3xl rounded-[40px] shadow-2xl overflow-hidden\" style={{ fontFamily: APP_FONT }}>\n        {/* TOP BAR */}\n        <div className=\"flex items-center justify-between px-8 py-6\">\n          <div className=\"min-w-0\">\n            <div className=\"text-xs font-black tracking-widest uppercase text-gray-400\">ALMAMUNDI</div>\n            <div className=\"text-xl font-bold text-gray-700\">\n              Cuenta tu historia ¬∑ <span className=\"text-orange-600\">{mode}</span>\n            </div>\n          </div>\n\n          <button\n            onClick={() => {\n              if (isRecording) stopRecording();\n              onClose();\n            }}\n            className=\"w-12 h-12 rounded-full flex items-center justify-center text-gray-500 hover:text-red-500 transition-colors active:scale-95\"\n            style={soft.button}\n            type=\"button\"\n            aria-label=\"Cerrar\"\n          >\n            <X size={22} />\n          </button>\n        </div>\n\n        {/* ERROR */}\n        {err && (\n          <div className=\"px-8 pb-2\">\n            <div className=\"p-4 rounded-3xl text-sm font-bold\" style={{ ...soft.inset, color: '#C2410C' }}>\n              {err}\n            </div>\n          </div>\n        )}\n\n        {/* BODY */}\n        <div className=\"px-8 pb-8 pt-4 overflow-y-auto hide-scrollbar\" style={{ maxHeight: err ? 'calc(90vh - 220px)' : 'calc(90vh - 190px)' }}>\n          {/* STEP 1: CAPTURE */}\n          {step === 'capture' && (\n            <div className=\"rounded-[30px] p-7\" style={soft.inset}>\n              <div className=\"flex items-center justify-between gap-4 mb-4\">\n                <div className=\"text-sm font-black tracking-widest uppercase text-gray-500\">\n                  {mode === 'Texto' ? 'Escribe' : 'Graba'} ¬∑ M√°ximo {mode === 'Texto' ? '2 carillas aprox.' : '5:00'}\n                </div>\n                {mode !== 'Texto' ? <div className=\"text-xs font-black tracking-widest uppercase text-gray-400\">{mm}:{ss}</div> : null}\n              </div>\n\n              {mode === 'Texto' ? (\n                <>\n                  {chosenTopic ? (\n                    <div className=\"mb-4 p-4 rounded-[18px]\" style={{ ...soft.flat, borderRadius: '18px' }}>\n                      <div className=\"text-xs font-black tracking-widest uppercase text-gray-500 mb-2\">Inspiraci√≥n</div>\n                      <div className=\"text-lg font-black text-gray-700\">{chosenTopic.title}</div>\n                      <div className=\"mt-2 text-sm text-gray-600\">\n                        {chosenTopic.questions.slice(0, 3).map((q, i) => (\n                          <div key={i}>‚Ä¢ {q}</div>\n                        ))}\n                      </div>\n                      <button\n                        type=\"button\"\n                        onClick={onClearChosenTopic}\n                        className=\"mt-3 text-xs font-black tracking-widest uppercase text-gray-500 hover:text-red-500\"\n                      >\n                        Quitar inspiraci√≥n\n                      </button>\n                    </div>\n                  ) : null}\n\n                  <div className=\"text-gray-600 text-sm leading-relaxed mb-4\">Escribe sin pensar demasiado. Que salga, como salga.</div>\n\n                  <textarea\n                    value={text}\n                    onChange={(e) => setText(e.target.value)}\n                    placeholder=\"Escribe aqu√≠‚Ä¶\"\n                    className=\"w-full min-h-[240px] rounded-[18px] p-5 outline-none text-gray-700\"\n                    style={{ ...soft.flat, borderRadius: '18px' }}\n                  />\n\n                  <div className=\"mt-3 text-xs text-gray-500\">\n                    {text.length}/{MAX_TEXT} {isTextTooLong ? '¬∑ Te pasaste un poquito. Recorta y sigue ‚úÇÔ∏è' : ''}\n                  </div>\n\n                  <div className=\"mt-6 flex justify-end\">\n                    <button\n                      type=\"button\"\n                      onClick={() => setStep('details')}\n                      disabled={!canContinueFromCapture}\n                      className=\"px-8 py-4 rounded-full text-xs font-black tracking-widest uppercase text-white active:scale-95 disabled:opacity-50\"\n                      style={{ ...soft.button, backgroundColor: '#F97316' }}\n                    >\n                      Continuar\n                    </button>\n                  </div>\n                </>\n              ) : (\n                <>\n                  <div className=\"text-gray-600 text-sm leading-relaxed\">\n                    Cuando quieras, aprieta <strong>Grabar</strong>. Puedes detener cuando quieras.\n                  </div>\n\n                  {mode === 'Video' && isRecording && (\n                    <div className=\"mt-6 h-[260px] rounded-[18px] overflow-hidden\" style={soft.flat}>\n                      <video ref={previewVideoRef} autoPlay playsInline muted className=\"w-full h-full object-cover\" />\n                    </div>\n                  )}\n\n                  <div className=\"mt-5 flex flex-wrap gap-3 items-center\">\n                    {!isRecording ? (\n                      <button type=\"button\" onClick={startRecording} className=\"px-8 py-3 rounded-full text-xs font-black tracking-widest uppercase text-orange-600 active:scale-95\" style={soft.button}>\n                        Grabar\n                      </button>\n                    ) : (\n                      <button type=\"button\" onClick={stopRecording} className=\"px-8 py-3 rounded-full text-xs font-black tracking-widest uppercase text-gray-700 active:scale-95\" style={soft.button}>\n                        Detener\n                      </button>\n                    )}\n\n                    <button\n                      type=\"button\"\n                      onClick={hardResetCapture}\n                      className=\"px-8 py-3 rounded-full text-xs font-black tracking-widest uppercase text-gray-600 active:scale-95\"\n                      style={soft.button}\n                      disabled={isRecording}\n                    >\n                      Repetir\n                    </button>\n\n                    <div className=\"text-xs font-black tracking-widest uppercase text-gray-400\">{mm}:{ss}</div>\n                  </div>\n\n                  {mediaUrl && !isRecording && (\n                    <div className=\"mt-6\">\n                      {mode === 'Video' ? (\n                        <video src={mediaUrl} controls className=\"w-full rounded-[18px]\" />\n                      ) : (\n                        <audio src={mediaUrl} controls className=\"w-full\" />\n                      )}\n                    </div>\n                  )}\n\n                  <div className=\"mt-6 flex justify-end\">\n                    <button\n                      type=\"button\"\n                      onClick={() => setStep('details')}\n                      disabled={!canContinueFromCapture}\n                      className=\"px-8 py-4 rounded-full text-xs font-black tracking-widest uppercase text-white active:scale-95 disabled:opacity-50\"\n                      style={{ ...soft.button, backgroundColor: '#F97316' }}\n                    >\n                      Continuar\n                    </button>\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n\n          {/* STEP 2: DETAILS */}\n          {step === 'details' && (\n            <div className=\"space-y-5\">\n              {/* Completar historia */}\n              <div className=\"rounded-[30px] p-7\" style={soft.inset}>\n                <div className=\"text-sm font-black tracking-widest uppercase text-gray-500 mb-4\">Completa tu historia</div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n                  <div className=\"md:col-span-2\">\n                    <div className=\"flex items-center gap-2 text-xs font-black tracking-widest uppercase text-gray-500 mb-2\">\n                      <span className=\"text-orange-500\">\n                        <FileText size={14} />\n                      </span>\n                      T√≠tulo (opcional)\n                    </div>\n                    <input\n                      value={storyTitle}\n                      onChange={(e) => setStoryTitle(e.target.value)}\n                      placeholder=\"Ej: El d√≠a que entend√≠ algo\"\n                      className=\"w-full px-5 py-4 rounded-[18px] outline-none text-gray-700\"\n                      style={{ ...soft.flat, borderRadius: '18px' }}\n                    />\n                  </div>\n\n                  <div className=\"md:col-span-2\">\n                    <div className=\"flex items-center gap-2 text-xs font-black tracking-widest uppercase text-gray-500 mb-2\">\n                      <span className=\"text-orange-500\">\n                        <Upload size={14} />\n                      </span>\n                      Sube documentos y/o m√∫sica (opcional)\n                    </div>\n\n                    <label className=\"w-full px-5 py-4 rounded-[18px] flex items-center justify-between cursor-pointer text-gray-600\" style={{ ...soft.flat, borderRadius: '18px' }}>\n                      <span className=\"text-sm\">Seleccionar archivos</span>\n                      <input type=\"file\" multiple className=\"hidden\" onChange={(e) => addFiles(e.target.files)} />\n                    </label>\n\n                    {attachments.length > 0 && (\n                      <div className=\"mt-4 space-y-2\">\n                        {attachments.map((f, idx) => (\n                          <div key={f.name + idx} className=\"flex items-center justify-between px-4 py-3 rounded-[16px]\" style={{ ...soft.flat, borderRadius: '16px' }}>\n                            <div className=\"text-sm text-gray-700 truncate\">{f.name}</div>\n                            <button type=\"button\" onClick={() => removeFile(idx)} className=\"text-xs font-black tracking-widest uppercase text-gray-500 hover:text-red-500\">\n                              Quitar\n                            </button>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Datos */}\n              <div className=\"rounded-[30px] p-7\" style={soft.inset}>\n                <div className=\"text-sm font-black tracking-widest uppercase text-gray-500 mb-4\">Datos (obligatorios)</div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n                  <div>\n                    <div className=\"flex items-center gap-2 text-xs font-black tracking-widest uppercase text-gray-500 mb-2\">\n                      <span className=\"text-orange-500\">\n                        <Users size={14} />\n                      </span>\n                      G√©nero\n                    </div>\n                    <select value={sex} onChange={(e) => setSex(e.target.value as Sex)} className=\"w-full px-5 py-4 rounded-[18px] outline-none text-gray-700\" style={{ ...soft.flat, borderRadius: '18px' }}>\n                      <option value=\"\">Selecciona</option>\n                      <option value=\"Mujer\">Mujer</option>\n                      <option value=\"Hombre\">Hombre</option>\n                      <option value=\"No binario\">No binario</option>\n                      <option value=\"Otro\">Otro</option>\n                      <option value=\"Prefiero no decir\">Prefiero no decir</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <div className=\"flex items-center gap-2 text-xs font-black tracking-widest uppercase text-gray-500 mb-2\">\n                      <span className=\"text-orange-500\">\n                        <Users size={14} />\n                      </span>\n                      Rango de edad\n                    </div>\n                    <select value={ageRange} onChange={(e) => setAgeRange(e.target.value as AgeRange)} className=\"w-full px-5 py-4 rounded-[18px] outline-none text-gray-700\" style={{ ...soft.flat, borderRadius: '18px' }}>\n                      <option value=\"\">Selecciona</option>\n                      <option value=\"13-17\">13-17</option>\n                      <option value=\"18-24\">18-24</option>\n                      <option value=\"25-34\">25-34</option>\n                      <option value=\"35-44\">35-44</option>\n                      <option value=\"45-54\">45-54</option>\n                      <option value=\"55-64\">55-64</option>\n                      <option value=\"65+\">65+</option>\n                      <option value=\"Prefiero no decir\">Prefiero no decir</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <div className=\"flex items-center gap-2 text-xs font-black tracking-widest uppercase text-gray-500 mb-2\">\n                      <span className=\"text-orange-500\">\n                        <MapPin size={14} />\n                      </span>\n                      Ciudad\n                    </div>\n                    <input value={city} onChange={(e) => setCity(e.target.value)} placeholder=\"Ej: Santiago\" className=\"w-full px-5 py-4 rounded-[18px] outline-none text-gray-700\" style={{ ...soft.flat, borderRadius: '18px' }} />\n                  </div>\n\n                  <div>\n                    <div className=\"flex items-center gap-2 text-xs font-black tracking-widest uppercase text-gray-500 mb-2\">\n                      <span className=\"text-orange-500\">\n                        <Globe2 size={14} />\n                      </span>\n                      Pa√≠s\n                    </div>\n                    <input value={country} onChange={(e) => setCountry(e.target.value)} placeholder=\"Ej: Chile\" className=\"w-full px-5 py-4 rounded-[18px] outline-none text-gray-700\" style={{ ...soft.flat, borderRadius: '18px' }} />\n                  </div>\n\n                  <div>\n                    <div className=\"flex items-center gap-2 text-xs font-black tracking-widest uppercase text-gray-500 mb-2\">\n                      <span className=\"text-orange-500\">\n                        <User size={14} />\n                      </span>\n                      Nombre (opcional)\n                    </div>\n                    <input value={name} onChange={(e) => setName(e.target.value)} placeholder=\"C√≥mo quieres aparecer\" className=\"w-full px-5 py-4 rounded-[18px] outline-none text-gray-700\" style={{ ...soft.flat, borderRadius: '18px' }} />\n                  </div>\n\n                  <div className=\"flex items-center gap-3 pt-8\">\n                    <input id=\"wantsEmail\" type=\"checkbox\" checked={wantsEmail} onChange={(e) => setWantsEmail(e.target.checked)} className=\"w-5 h-5\" />\n                    <label htmlFor=\"wantsEmail\" className=\"text-sm text-gray-600 font-bold\">\n                      Quiero saber por mail cuando aparezca en el mapa\n                    </label>\n                  </div>\n\n                  {wantsEmail && (\n                    <div className=\"md:col-span-2\">\n                      <div className=\"flex items-center gap-2 text-xs font-black tracking-widest uppercase text-gray-500 mb-2\">\n                        <span className=\"text-orange-500\">\n                          <Mail size={14} />\n                        </span>\n                        Mail\n                      </div>\n                      <input value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"tu@mail.com\" className=\"w-full px-5 py-4 rounded-[18px] outline-none text-gray-700\" style={{ ...soft.flat, borderRadius: '18px' }} />\n                      {email.trim().length > 0 && !isEmailLike(email) ? <div className=\"mt-2 text-xs font-bold text-red-600\">Revisa el formato del mail.</div> : null}\n                    </div>\n                  )}\n\n                  <div className=\"md:col-span-2 flex items-start gap-3 pt-2\">\n                    <input id=\"privacy\" type=\"checkbox\" checked={acceptedPrivacy} onChange={(e) => setAcceptedPrivacy(e.target.checked)} className=\"w-5 h-5 mt-1\" />\n                    <label htmlFor=\"privacy\" className=\"text-sm text-gray-600 font-bold leading-relaxed\">\n                      Le√≠ y acepto la{' '}\n                      <a className=\"text-orange-600 underline\" href={PRIVACY_URL} target=\"_blank\" rel=\"noreferrer\">\n                        pol√≠tica de privacidad\n                      </a>\n                      .\n                    </label>\n                  </div>\n                </div>\n\n                <div className=\"mt-6 flex flex-wrap gap-3 justify-end\">\n                  <button type=\"button\" onClick={() => setStep('capture')} className=\"px-8 py-4 rounded-full text-xs font-black tracking-widest uppercase text-gray-600 active:scale-95\" style={soft.button}>\n                    Volver\n                  </button>\n\n                  <button\n                    type=\"button\"\n                    onClick={submit}\n                    disabled={!canSubmit}\n                    className=\"px-8 py-4 rounded-full text-xs font-black tracking-widest uppercase text-white active:scale-95 disabled:opacity-60\"\n                    style={{ ...soft.button, backgroundColor: '#F97316' }}\n                  >\n                    {saving ? 'Enviando‚Ä¶' : 'Enviar'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* STEP 3: RECEIVED */}\n          {step === 'received' && (\n            <div className=\"flex flex-col items-center text-center py-4\">\n              <div className=\"w-20 h-20 rounded-full flex items-center justify-center text-orange-500 mb-4\" style={soft.inset}>\n                <Check size={40} className=\"stroke-[3]\" />\n              </div>\n\n              <h2 className=\"text-3xl font-bold text-gray-800 mb-3 leading-tight\">\n                Gracias. Tu historia ya dej√≥ una <span className=\"text-orange-600\">Impronta</span>.\n              </h2>\n\n              <p className=\"text-gray-500 text-lg leading-relaxed mb-7 max-w-xl\">\n                Lo vivido queda guardado y listo para <strong>conectar</strong> con otras historias.\n              </p>\n\n              <div className=\"w-full max-w-2xl space-y-4 mb-8\">\n                <div className=\"p-6 rounded-[28px] text-left\" style={soft.inset}>\n                  <div className=\"text-xs font-black tracking-widest uppercase text-gray-500 mb-2\">ID / Impronta</div>\n                  <div className=\"text-2xl font-black text-gray-700\">{imprintIdRef.current}</div>\n                  <div className=\"text-sm text-gray-500 mt-2\">Gu√°rdalo si quieres volver a esta historia.</div>\n                </div>\n\n                <div className=\"h-[220px] rounded-[28px] overflow-hidden\" style={soft.flat}>\n                  <ImprontaVisualizer\n                    isActive={true}\n                    seedText={seedForImpronta + imprintIdRef.current + (storyTitle ? `-${storyTitle}` : '')}\n                    audioBlob={mode === 'Audio' ? mediaBlob : null}\n                    canvasId=\"impronta-canvas\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <button type=\"button\" onClick={downloadImpronta} className=\"py-4 px-6 rounded-2xl flex items-center justify-center gap-3 font-black tracking-widest uppercase text-xs text-gray-600 hover:text-gray-800 active:scale-95\" style={soft.button}>\n                    <Download size={16} />\n                    Descargar\n                  </button>\n\n                  <button type=\"button\" onClick={() => openShare('copy')} className=\"py-4 px-6 rounded-2xl flex items-center justify-center gap-3 font-black tracking-widest uppercase text-xs text-gray-600 hover:text-gray-800 active:scale-95\" style={soft.button}>\n                    <Share2 size={16} />\n                    Copiar link\n                  </button>\n\n                  <button type=\"button\" onClick={resetForNewStory} className=\"py-4 px-6 rounded-2xl flex items-center justify-center gap-3 font-black tracking-widest uppercase text-xs text-gray-600 hover:text-gray-800 active:scale-95\" style={soft.button}>\n                    <RefreshCcw size={16} />\n                    Otra historia\n                  </button>\n                </div>\n              </div>\n\n              <button\n                onClick={() => {\n                  onClose();\n                }}\n                className=\"px-8 py-4 rounded-full text-xs font-black tracking-widest uppercase text-orange-600 hover:text-orange-700 active:scale-95\"\n                style={soft.button}\n                type=\"button\"\n              >\n                Volver al mapa\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ------------------------------------------------------------------ */\n/* PAGE                                                                */\n/* ------------------------------------------------------------------ */\nexport default function Home() {\n  const [modalMode, setModalMode] = useState<Mode | null>(null);\n  const [showPurpose, setShowPurpose] = useState(false);\n\n  const [showInspiration, setShowInspiration] = useState(false);\n  const [chosenTopic, setChosenTopic] = useState<InspirationTopic | null>(null);\n\n  const audioRef = useRef<HTMLAudioElement>(null);\n  const [isMuted, setIsMuted] = useState(true);\n\n  const globeEl = useRef<any>(null);\n  const { ref: globeWrapRef, width: globeWrapWidth } = useElementWidth<HTMLDivElement>();\n  const globeSize = Math.min(1100, Math.max(360, globeWrapWidth));\n\n  const [isInteractive, setIsInteractive] = useState(false);\n  const [isAutoPilot, setIsAutoPilot] = useState(false);\n\n  const stories: StoryPoint[] = useMemo(\n    () => [\n      { lat: -33.4489, lng: -70.6693, label: 'Santiago' },\n      { lat: 40.7128, lng: -74.006, label: 'New York' },\n      { lat: 48.8566, lng: 2.3522, label: 'Paris' },\n      { lat: 35.6762, lng: 139.6503, label: 'Tokyo' }\n    ],\n    []\n  );\n\n  const [newsRings, setNewsRings] = useState<NewsRing[]>([]);\n  useEffect(() => {\n    const id = window.setInterval(() => {\n      const r: NewsRing = {\n        lat: (Math.random() - 0.5) * 160,\n        lng: (Math.random() - 0.5) * 360,\n        maxR: Math.random() * 20 + 3,\n        propagationSpeed: (Math.random() - 0.5) * 20 + 1,\n        repeatPeriod: Math.random() * 2000 + 200\n      };\n\n      setNewsRings((prev) => {\n        const next = [...prev, r];\n        if (next.length > 15) next.shift();\n        return next;\n      });\n    }, 1500);\n\n    return () => window.clearInterval(id);\n  }, []);\n\n  const toggleAudio = useCallback(() => {\n    const a = audioRef.current;\n    if (!a) return;\n\n    if (isMuted) {\n      a.volume = 0.6;\n      a.play().catch(() => {});\n      setIsMuted(false);\n    } else {\n      a.pause();\n      setIsMuted(true);\n    }\n  }, [isMuted]);\n\n  const handleGlobeReady = useCallback(() => {\n    if (!globeEl.current) return;\n    const controls = globeEl.current.controls();\n    controls.enableZoom = false;\n    controls.autoRotate = true;\n    controls.autoRotateSpeed = 0.5;\n  }, []);\n\n  useEffect(() => {\n    if (!isAutoPilot || !globeEl.current) return;\n\n    const destinations = [\n      { lat: -33.4489, lng: -70.6693, altitude: 1.8 },\n      { lat: 48.8566, lng: 2.3522, altitude: 1.8 },\n      { lat: 35.6762, lng: 139.6503, altitude: 1.8 },\n      { lat: 40.7128, lng: -74.006, altitude: 1.8 }\n    ];\n\n    let i = 0;\n    const move = () => {\n      globeEl.current.pointOfView(destinations[i], 4000);\n      i = (i + 1) % destinations.length;\n    };\n\n    move();\n    const id = window.setInterval(move, 6000);\n    return () => window.clearInterval(id);\n  }, [isAutoPilot]);\n\n  return (\n    <main className=\"min-h-screen overflow-x-hidden relative\" style={{ backgroundColor: soft.bg, fontFamily: APP_FONT }}>\n      <style jsx global>{globalStyles}</style>\n\n      <audio ref={audioRef} loop src=\"/universo.mp3\" />\n\n      {/* MODALES */}\n      <StoryModal\n        isOpen={modalMode !== null}\n        mode={modalMode ?? 'Video'}\n        onClose={() => setModalMode(null)}\n        onChooseMode={(m) => setModalMode(m)}\n        chosenTopic={chosenTopic}\n        onClearChosenTopic={() => setChosenTopic(null)}\n      />\n\n      <PurposeModal isOpen={showPurpose} onClose={() => setShowPurpose(false)} />\n\n      <InspirationModal\n        isOpen={showInspiration}\n        onClose={() => setShowInspiration(false)}\n        topics={INSPIRATION_TOPICS}\n        onChoose={(t) => {\n          setChosenTopic(t);\n          setShowInspiration(false);\n          setModalMode('Texto');\n        }}\n      />\n\n      {/* HEADER */}\n      <header className=\"fixed top-0 left-0 w-full z-[100] flex items-center justify-between px-6 md:px-12 h-32 bg-[#E0E5EC]/70 backdrop-blur-lg border-b border-white/20\">\n        <div className=\"flex items-center\">\n          <img src=\"/logo.png\" alt=\"AlmaMundi\" className=\"h-28 md:h-36 w-auto object-contain select-none filter drop-shadow-md\" />\n        </div>\n\n        <nav className=\"hidden md:flex gap-6 text-sm font-bold text-gray-600 items-center\">\n          <button onClick={() => setShowPurpose(true)} className=\"px-8 py-4 active:scale-95 hover:text-orange-600\" style={soft.button} type=\"button\">\n            Prop√≥sito\n          </button>\n\n          <button onClick={() => setShowInspiration(true)} className=\"px-8 py-4 active:scale-95 hover:text-gray-700 flex items-center gap-2\" style={soft.button} type=\"button\">\n            Inspiraci√≥n\n          </button>\n\n          <a href=\"#historias\" className=\"px-8 py-4 active:scale-95 hover:text-orange-600\" style={soft.button}>\n            Historias\n          </a>\n          <a href=\"#mapa\" className=\"px-8 py-4 active:scale-95 hover:text-orange-600\" style={soft.button}>\n            Mapa\n          </a>\n        </nav>\n      </header>\n\n      {/* INTRO */}\n      <section id=\"intro\" className=\"pt-48 md:pt-64 pb-4 px-6 relative z-10 flex flex-col items-center text-center\">\n        <div className=\"max-w-6xl animate-float\">\n          <h1 className=\"text-4xl md:text-6xl font-light leading-tight mb-10\" style={{ color: soft.textMain }}>\n            AlmaMundi es el lugar donde tus historias no se pierden en el scroll, sino que <span className=\"font-semibold\">despiertan otras historias.</span>\n          </h1>\n\n          <div className=\"w-32 h-2 rounded-full mx-auto mb-12 opacity-50 bg-orange-400\" />\n\n          <p className=\"text-xl md:text-3xl font-light max-w-4xl mx-auto leading-relaxed\" style={{ color: soft.textBody }}>\n            Aqu√≠, cada relato importa. <strong>Cada historia es extraordinaria.</strong>\n          </p>\n\n          <ChevronDown className=\"mx-auto mt-12 text-gray-400 opacity-50 animate-bounce\" />\n        </div>\n      </section>\n\n      {/* CARDS */}\n      <section id=\"historias\" className=\"w-full px-6 mb-28 flex flex-col md:flex-row gap-12 justify-center items-stretch relative z-10 -mt-12\">\n        <SoftCard title=\"Tu historia,\" subtitle=\"en primer plano\" buttonLabel=\"GRABA TU VIDEO\" onClick={() => setModalMode('Video')} delay=\"0s\">\n          A veces, una mirada lo dice todo. An√≠mate a <strong>grabar ese momento que te marc√≥</strong>, una experiencia que viviste o que alguien m√°s te cont√≥.\n        </SoftCard>\n\n        <SoftCard title=\"Dale voz\" subtitle=\"a tu recuerdo\" buttonLabel=\"GRABA TU AUDIO\" onClick={() => setModalMode('Audio')} delay=\"0.2s\">\n          Hay historias que se sienten mejor cuando solo se escuchan. <strong>Graba tu relato en audio</strong> y deja que tu voz haga el resto.\n        </SoftCard>\n\n        <SoftCard title=\"Ponle palabras\" subtitle=\"a tu historia\" buttonLabel=\"ESCRIBE TU HISTORIA\" onClick={() => setModalMode('Texto')} delay=\"0.4s\">\n          Si lo tuyo es escribir, este es tu lugar. T√≥mate un respiro y <strong>cuenta tu historia a tu ritmo</strong>, palabra por palabra.\n        </SoftCard>\n      </section>\n\n      {/* MAPA */}\n      <section\n        id=\"mapa\"\n        className=\"relative w-full scroll-mt-[160px] min-h-[90vh] md:min-h-[1400px] flex flex-col justify-start overflow-hidden\"\n        style={{ background: 'linear-gradient(to bottom, #E0E5EC 0%, #1B2333 20%, #0F1A2B 100%)' }}\n      >\n        <div className=\"relative z-20 container mx-auto px-6 pt-16 md:pt-28 pb-10 flex flex-col items-center text-center\">\n          <h2 className=\"text-6xl md:text-8xl font-light mb-8 drop-shadow-xl\" style={{ color: '#F97316' }}>\n            Mapa de AlmaMundi\n          </h2>\n\n          <p className=\"text-gray-300 text-xl max-w-2xl font-light leading-relaxed mb-12\">\n            Un tejido vivo de memoria humana.\n            <br />\n            Cuando miles compartan, este mundo brillar√°.\n          </p>\n\n          <div className=\"inline-flex flex-wrap justify-center gap-6 md:gap-10 p-6 rounded-full border border-white/10 bg-white/5 backdrop-blur-md\">\n            <button\n              onClick={() => setIsInteractive((v) => !v)}\n              className={`flex items-center gap-3 transition-colors ${isInteractive ? 'text-orange-400' : 'text-gray-300 hover:text-white'}`}\n              type=\"button\"\n            >\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center ${isInteractive ? 'bg-orange-500/20' : 'bg-white/10'}`}>\n                {isInteractive ? <Unlock size={16} /> : <Lock size={16} />}\n              </div>\n              <span className=\"text-xs uppercase tracking-widest font-bold\">{isInteractive ? 'Bloquear' : 'Activar'}</span>\n            </button>\n\n            <div className=\"w-px h-8 bg-white/10\" />\n\n            <button\n              onClick={() => setIsAutoPilot((v) => !v)}\n              className={`flex items-center gap-3 transition-colors ${isAutoPilot ? 'text-orange-400' : 'text-gray-300 hover:text-white'}`}\n              type=\"button\"\n            >\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center ${isAutoPilot ? 'bg-orange-500/20 animate-spin-slow' : 'bg-purple-500/20 text-purple-400'}`}>\n                <RotateCcw size={16} className={isAutoPilot ? 'animate-spin' : ''} />\n              </div>\n              <span className=\"text-xs uppercase tracking-widest font-bold\">{isAutoPilot ? 'Detener' : 'Tour'}</span>\n            </button>\n\n            <div className=\"w-px h-8 bg-white/10\" />\n\n            <button onClick={toggleAudio} className=\"flex items-center gap-3 hover:opacity-80 transition-opacity\" type=\"button\">\n              <div className={`w-8 h-8 rounded-full ${isMuted ? 'bg-gray-500/20 text-gray-400' : 'bg-green-500/20 text-green-400'} flex items-center justify-center`}>\n                {isMuted ? <VolumeX size={16} /> : <Volume2 size={16} />}\n              </div>\n              <span className=\"text-xs text-gray-300 uppercase tracking-widest\">Sonido</span>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"relative w-full\" style={{ height: 1250 }}>\n          <MapFilterBar onToggleView={() => alert('Pr√≥ximamente: Vista de Tarjetas')} />\n          <MapLegend />\n\n          <div\n            ref={globeWrapRef}\n            className={`w-full h-full flex items-center justify-center relative z-10 mt-2 transition-all ${isInteractive ? 'cursor-move pointer-events-auto' : 'cursor-default pointer-events-none'}`}\n            style={{ touchAction: isInteractive ? 'none' : 'auto' }}\n          >\n            <GlobeComp\n              ref={globeEl}\n              onGlobeReady={handleGlobeReady}\n              globeImageUrl=\"https://unpkg.com/three-globe/example/img/earth-night.jpg\"\n              backgroundColor=\"rgba(0,0,0,0)\"\n              pointsData={stories}\n              pointLat=\"lat\"\n              pointLng=\"lng\"\n              pointColor={() => '#F97316'}\n              pointAltitude={0.01}\n              pointRadius={0.24}\n              ringsData={newsRings}\n              ringColor={() => (t: number) => `rgba(255,255,255,${1 - t})`}\n              ringMaxRadius=\"maxR\"\n              ringPropagationSpeed=\"propagationSpeed\"\n              ringRepeatPeriod=\"repeatPeriod\"\n              height={globeSize}\n              width={globeSize}\n            />\n          </div>\n        </div>\n      </section>\n\n      {/* FOOTER */}\n      <footer className=\"w-full pb-28 pt-20 px-6 flex flex-col items-center relative z-20 bg-[#E0E5EC]\" style={{ fontFamily: APP_FONT }}>\n        <div className=\"mb-20 mt-10 w-full flex justify-center select-none\">\n          <h1 className=\"text-7xl md:text-[140px] text-center leading-none almamundi-footer-title\">ALMAMUNDI</h1>\n        </div>\n\n        <div className=\"w-full max-w-6xl flex flex-col md:flex-row justify-between items-center md:items-end text-base font-medium border-t border-gray-300 pt-10 text-gray-600 gap-10\">\n          <div className=\"flex flex-col items-center md:items-start\">\n            <span className=\"block mb-3 opacity-70\">Una iniciativa de</span>\n            <img src=\"/logo-precisar.png\" alt=\"Precisar\" className=\"h-14 w-auto object-contain\" />\n          </div>\n\n          <div className=\"flex flex-wrap justify-center gap-8 md:gap-10 opacity-90\">\n            <button onClick={() => setShowPurpose(true)} className=\"hover:text-gray-900 transition-colors font-bold\" type=\"button\">\n              Prop√≥sito\n            </button>\n\n            <button onClick={() => setShowInspiration(true)} className=\"hover:text-gray-900 transition-colors font-bold flex items-center gap-2\" type=\"button\">\n              <span>Inspiraci√≥n</span>\n            </button>\n\n            <a href=\"#historias\" className=\"hover:text-gray-900 transition-colors font-bold\">\n              Historias\n            </a>\n            <a href=\"#mapa\" className=\"hover:text-gray-900 transition-colors font-bold\">\n              Mapa\n            </a>\n          </div>\n        </div>\n      </footer>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}